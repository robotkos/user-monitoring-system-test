{% extends 'base.html.twig' %}

{% block title %}Hello {{ user }}!{% endblock %}

{% block body %}

    <div class="container">
        <div class="page-container">
            <md-app md-waterfall md-mode="fixed-last">
                <md-app-toolbar class="md-large md-dense md-primary">
                    <div class="md-toolbar-row">
                        <div class="md-toolbar-section-start">
                            <span class="md-title">VPS Admin</span>

                        </div>

                        <div class="md-toolbar-section-end">
                            <md-button class="md-icon-button">
                                <span class="md-title">{{ user }}</span>
                            </md-button>
                        </div>
                    </div>

                </md-app-toolbar>
                <md-app-content>
                </md-app-content>
            </md-app>
        </div>
        <div id="mainPage">

            <div class="md-toolbar-row">
                <div id="divLinks">
                    <md-button class="md-accent"><a href="{{ path('index') }}">Main</a></md-button>
                    <md-button class="md-accent"><a href="{{ path('users') }}">Users</a></md-button>
                    <md-button class="md-accent"><a href="{{ path('companies') }}">Companies</a></md-button>
                    <md-button class="md-accent"><a href="{{ path('logout') }}">Logout</a></md-button>
                </div>

            </div>
            <div class="row">
                    <md-button class="md-raised md-primary" @click="generateData">
                        Generate data
                    </md-button>
            </div>

            <div class="row">
                <md-card>
                    <div class="more_space">
                        <md-button class="md-raised md-primary" @click="getReport">
                            Show report
                        </md-button>

                        <md-field>
                            <label for="months">Choose Months</label>
                            <md-select v-model="months" name="months" id="months">
                                <md-option v-for="(months, indexMonths) in monthsData" v-bind:value="months.month">
                                    ${months.month}
                                </md-option>
                            </md-select>
                        </md-field>
                    </div>
                </md-card>
            </div>

            <md-table md-card>
                <md-table-toolbar>
                    <h1 class="md-title">Report</h1>
                </md-table-toolbar>

                <md-table-row>
                    <md-table-head>Company</md-table-head>
                    <md-table-head>Used</md-table-head>
                    <md-table-head>Quota</md-table-head>
                </md-table-row>

                <md-table-row v-for="(item, index) in reportData" :key="index">
                    <md-table-cell>${item.company}</md-table-cell>
                    <md-table-cell>${item.used}</md-table-cell>
                    <md-table-cell>${item.quota}</md-table-cell>
                </md-table-row>
            </md-table>
        </div>
    </div>
{% endblock %}
